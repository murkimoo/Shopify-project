{
  "version": 3,
  "sources": ["../../../app/routes/wishlist.tsx"],
  "sourcesContent": ["// REMIX HMR BEGIN\nif (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n  console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n} else {\n  var prevRefreshReg = window.$RefreshReg$;\n  var prevRefreshSig = window.$RefreshSig$;\n  window.$RefreshReg$ = (type, id) => {\n    window.$RefreshRuntime$.register(type, \"\\\"app\\\\\\\\routes\\\\\\\\wishlist.tsx\\\"\" + id);\n  }\n  window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n}\nvar _s = $RefreshSig$();\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app\\\\routes\\\\wishlist.tsx\");\n  import.meta.hot.lastModified = \"1746769589071.027\";\n}\n// REMIX HMR END\n\nimport { json } from \"@remix-run/node\";\nimport { useLoaderData, Form, useNavigation } from \"@remix-run/react\";\nimport { Page, Layout, Card, ResourceList, ResourceItem, Thumbnail, Button, EmptyState, Text, BlockStack, InlineStack, Box } from \"@shopify/polaris\";\nimport { getProduct } from \"~/models/product.server\";\nimport { getWishlist, removeFromWishlist, wishlistCookie } from \"~/models/wishlist.server\";\nexport const loader = async ({\n  request\n}) => {\n  const wishlistItems = await getWishlist(request);\n  const wishlistProducts = wishlistItems.map(id => getProduct(id)).filter(Boolean);\n  return json({\n    wishlistProducts\n  });\n};\nexport const action = async ({\n  request\n}) => {\n  const formData = await request.formData();\n  const productId = formData.get(\"productId\");\n  const action = formData.get(\"action\");\n  let wishlistItems;\n  if (action === \"remove\") {\n    wishlistItems = await removeFromWishlist(request, productId);\n  }\n  return json({\n    success: true\n  }, {\n    headers: {\n      \"Set-Cookie\": await wishlistCookie.serialize(wishlistItems)\n    }\n  });\n};\nexport default function Wishlist() {\n  _s();\n  const {\n    wishlistProducts\n  } = useLoaderData();\n  const navigation = useNavigation();\n  const isSubmitting = navigation.state === \"submitting\";\n  if (wishlistProducts.length === 0) {\n    return <Page title=\"Your Wishlist\" backAction={{\n      content: 'Products',\n      url: '/'\n    }}>\n        <Layout>\n          <Layout.Section>\n            <Card>\n              <EmptyState heading=\"Your wishlist is empty\" image=\"/empty-wishlist.svg\" action={{\n              content: 'Browse products',\n              url: '/'\n            }}>\n                <p>Save items for later by clicking \"Save for Later\" on product pages.</p>\n              </EmptyState>\n            </Card>\n          </Layout.Section>\n        </Layout>\n      </Page>;\n  }\n  return <Page title=\"Your Wishlist\" backAction={{\n    content: 'Products',\n    url: '/'\n  }}>\n      <Layout>\n        <Layout.Section>\n          <Card>\n            <ResourceList resourceName={{\n            singular: 'product',\n            plural: 'products'\n          }} items={wishlistProducts} renderItem={product => {\n            const {\n              id,\n              title,\n              price,\n              description,\n              image\n            } = product;\n            return <ResourceItem id={id} media={<Thumbnail source={image} alt={title} />} accessibilityLabel={`View details for ${title}`} onClick={() => {}}>\n                    <InlineStack>\n                      <Box>\n                        <Text variant=\"headingMd\" as=\"h3\">{title}</Text>\n                        <Text as=\"p\">${price.toFixed(2)}</Text>\n                        <Text as=\"p\">{description}</Text>\n                      </Box>\n                      <Box>\n                        <BlockStack>\n                          <Button variant=\"primary\">Move to Cart</Button>\n                          <Form method=\"post\">\n                            <input type=\"hidden\" name=\"productId\" value={id} />\n                            <input type=\"hidden\" name=\"action\" value=\"remove\" />\n                            <Button submit disabled={isSubmitting} variant=\"primary\" tone=\"critical\">\n                              Remove\n                            </Button>\n                          </Form>\n                        </BlockStack>\n                      </Box>\n                    </InlineStack>\n                  </ResourceItem>;\n          }} />\n          </Card>\n        </Layout.Section>\n      </Layout>\n    </Page>;\n}\n_s(Wishlist, \"+z3DnEG0BIJGDaGLaCwVzCt5qp4=\", false, function () {\n  return [useLoaderData, useNavigation];\n});\n_c = Wishlist;\nvar _c;\n$RefreshReg$(_c, \"Wishlist\");\n\nwindow.$RefreshReg$ = prevRefreshReg;\nwindow.$RefreshSig$ = prevRefreshSig;"],
  "mappings": "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",
  "names": []
}
